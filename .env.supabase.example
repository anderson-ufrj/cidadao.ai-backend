# =============================================================================
# SUPABASE CONFIGURATION - Exemplo de Variáveis de Ambiente
# =============================================================================
#
# Copie este arquivo para .env e preencha com suas credenciais
# cp .env.supabase.example .env
#
# Para obter as credenciais:
# 1. Acesse https://app.supabase.com
# 2. Selecione seu projeto
# 3. Vá para Settings > Database > Connection string (URI)
# 4. Copie a URL de conexão PostgreSQL
# 5. Vá para Settings > API para obter as keys
#
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE DATABASE (OBRIGATÓRIO)
# -----------------------------------------------------------------------------
# URL de conexão direta ao PostgreSQL do Supabase
# Formato: postgresql://postgres:[PASSWORD]@db.[PROJECT-ID].supabase.co:5432/postgres
#
# Exemplo:
# SUPABASE_DB_URL=postgresql://postgres:sua-senha-aqui@db.abcdefghijklmnop.supabase.co:5432/postgres

SUPABASE_DB_URL=postgresql://postgres:YOUR_PASSWORD@db.YOUR_PROJECT_ID.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# SUPABASE API KEYS (OPCIONAL mas RECOMENDADO)
# -----------------------------------------------------------------------------

# Anon Key - Para uso público com Row Level Security (RLS)
# Use no frontend para garantir que usuários só vejam seus próprios dados
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_ANON_KEY_HERE

# Service Role Key - Para backend (BYPASS RLS)
# IMPORTANTE: Esta key tem acesso total ao banco. Use apenas no backend!
# O backend precisa desta key para criar/atualizar investigações de qualquer usuário
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_SERVICE_ROLE_KEY_HERE

# -----------------------------------------------------------------------------
# CONNECTION POOL SETTINGS (OPCIONAL)
# -----------------------------------------------------------------------------
# Configurações do pool de conexões asyncpg

# Número mínimo de conexões no pool (padrão: 5)
SUPABASE_MIN_CONNECTIONS=5

# Número máximo de conexões no pool (padrão: 20)
# Nota: Supabase Free Tier permite até 60 conexões simultâneas
# Para produção, considere: min=10, max=50
SUPABASE_MAX_CONNECTIONS=20

# -----------------------------------------------------------------------------
# OUTROS BANCOS (OPCIONAL)
# -----------------------------------------------------------------------------
# Se você ainda quiser usar PostgreSQL local ou outro banco como fallback

# PostgreSQL local (desenvolvimento)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/cidadao_ai

# Redis para cache (opcional)
# REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# VERIFICAÇÃO
# -----------------------------------------------------------------------------
# Para testar a conexão, execute:
#
# psql "postgresql://postgres:[PASSWORD]@db.[PROJECT-ID].supabase.co:5432/postgres"
#
# Ou use o script de teste:
# python scripts/test_supabase_connection.py
#
# =============================================================================

# =============================================================================
# CONFIGURAÇÃO DO FRONTEND (Next.js)
# =============================================================================
# Adicione estas variáveis no .env.local do frontend:
#
# NEXT_PUBLIC_SUPABASE_URL=https://YOUR_PROJECT_ID.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_ANON_KEY
# NEXT_PUBLIC_API_URL=https://neural-thinker-cidadao-ai-backend.hf.space
#
# =============================================================================

# =============================================================================
# DEPLOY NO HUGGINGFACE SPACES
# =============================================================================
# No HuggingFace Spaces, adicione estas variáveis em Settings > Variables:
#
# SUPABASE_DB_URL (obrigatório)
# SUPABASE_SERVICE_ROLE_KEY (recomendado - permite backend escrever sem RLS)
#
# NÃO adicione SUPABASE_ANON_KEY no backend (use apenas no frontend)
# =============================================================================

# =============================================================================
# SEGURANÇA
# =============================================================================
# ⚠️  NUNCA commite este arquivo com credenciais reais!
# ⚠️  Adicione .env ao .gitignore
# ⚠️  Use secrets management em produção
# ⚠️  Rotacione suas keys regularmente
# ⚠️  SERVICE_ROLE_KEY tem acesso total - proteja-a!
# =============================================================================
