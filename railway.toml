# Railway.app Configuration
# Author: Anderson Henrique da Silva
# Date: 2025-10-07 18:30:00
#
# Deploy entire backend to Railway with one click:
# 1. Connect GitHub repo to Railway
# 2. Add environment variables
# 3. Deploy!

[build]
builder = "nixpacks"
buildCommand = "pip install -r requirements.txt"

[deploy]
startCommand = "uvicorn src.api.app:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Environment variables (set in Railway dashboard)
# REQUIRED:
# - SUPABASE_URL
# - SUPABASE_SERVICE_ROLE_KEY
# - GROQ_API_KEY
# - REDIS_URL (auto-provided by Railway Redis)
#
# OPTIONAL:
# - TRANSPARENCY_API_KEY
# - SENTRY_DSN
